name: Debug Repository Structure

on:
  push:
    branches:
      - develop

jobs:
  debug:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: List root directory
        run: ls -R .

      - name: Check for pom.xml files
        run: find . -maxdepth 3 -name pom.xml

      - name: Checkout repository
        uses: actions/checkout@v4

      - name: Show root directory contents
        run: ls -l

      - name: Show contents of citizens_registry
        run: ls -l citizens_registry

      - name: Show contents of citizen-registry
        run: ls -l citizen-registry || echo "Folder not found"

      - name: Show pom.xml and target (if exist)
        run: |
          ls -l citizen-registry/pom.xml || echo "pom.xml not found"
          ls -l citizen-registry/target || echo "target dir not found"
